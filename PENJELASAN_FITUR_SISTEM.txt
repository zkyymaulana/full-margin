================================================================================
í³Š DOKUMENTASI SISTEM ANALISIS TEKNIKAL CRYPTOCURRENCY
================================================================================
Sistem Trading Algoritmik dengan Multi-Indicator Analysis
Berdasarkan: Sukma & Namahoot (2025) - "Enhancing Trading Strategies"

================================================================================
1ï¸âƒ£ FITUR INDIKATOR TEKNIKAL (SINGLE INDICATOR)
================================================================================

í³Œ DESKRIPSI:
   Sistem perhitungan dan analisis 8 indikator teknikal standar industri
   untuk cryptocurrency trading dengan sinyal otomatis.

í³Š INDIKATOR YANG TERSEDIA:
   1. SMA (Simple Moving Average) - Period 20, 50
   2. EMA (Exponential Moving Average) - Period 20, 50  
   3. RSI (Relative Strength Index) - Period 14
   4. MACD (Moving Average Convergence Divergence) - 12, 26, 9
   5. Bollinger Bands - Period 20, Multiplier 2
   6. Stochastic Oscillator - %K=14, %D=3
   7. Stochastic RSI - RSI=14, Stoch=14, K=3, D=3
   8. Parabolic SAR - Step=0.02, Max=0.2

í´§ FITUR UTAMA:
   âœ… Perhitungan Real-time dengan Rolling Window Algorithm
   âœ… Incremental Calculation (Optimized Performance)
   âœ… Auto Signal Generation (Strong Buy/Buy/Neutral/Sell/Strong Sell)
   âœ… Signal Strength Scoring (0-100%)
   âœ… Overall Signal Consensus (8 indikator digabung)
   âœ… Auto-backfill untuk data historis
   âœ… Timezone Support (Asia/Jakarta)

í³ˆ SIGNAL GENERATION LOGIC:

   SMA/EMA Signals:
   - Strong Buy: Price > SMA20 > SMA50, semua naik
   - Buy: Price > SMA20, trend bullish
   - Sell: Price < SMA20, trend bearish
   - Strong Sell: Price < SMA20 < SMA50, semua turun

   RSI Signals:
   - Strong Buy: RSI < 27 (oversold ekstrem)
   - Buy: RSI < 30 (oversold)
   - Sell: RSI > 70 (overbought)
   - Strong Sell: RSI > 77 (overbought ekstrem)

   MACD Signals:
   - Strong Buy: MACD > Signal + histogram naik
   - Buy: MACD > Signal
   - Sell: MACD < Signal
   - Strong Sell: MACD < Signal + histogram turun

   Bollinger Bands:
   - Buy: Price mendekati lower band (<10% dari bawah)
   - Sell: Price mendekati upper band (>90% dari atas)
   - Neutral: Price di middle band

   Stochastic/StochRSI:
   - Strong Buy: K & D < 20 dengan crossover bullish
   - Buy: K & D < 20 (oversold)
   - Sell: K & D > 80 (overbought)
   - Strong Sell: K & D > 80 dengan crossover bearish

   Parabolic SAR:
   - Strong Buy: Price baru saja cross di atas PSAR
   - Buy: Price > PSAR
   - Sell: Price < PSAR
   - Strong Sell: Price baru saja cross di bawah PSAR

í¼ API ENDPOINTS:

   GET /api/indicators/:symbol
   - Ambil data indikator dengan pagination
   - Support: ?page=1&all=true
   - Response: Data indikator + harga + signals

   POST /api/indicators/:symbol/calculate
   - Hitung ulang semua indikator
   - Support: ?force=true untuk reset
   - Auto-incremental jika tidak force

   GET /api/indicators/:symbol/signals
   - Summary sinyal terkini
   - Distribusi signal (buy/sell/neutral)
   - Average signal strength
   - Recent 100 candles analysis

í²¾ DATABASE STORAGE:
   Table: Indicator
   Fields:
   - time (timestamp)
   - sma20, sma50, ema20, ema50
   - rsi, macd, macdSignalLine, macdHist
   - bbUpper, bbLower
   - stochK, stochD
   - stochRsiK, stochRsiD
   - psar
   - smaSignal, emaSignal, rsiSignal... (8 signals)
   - overallSignal (consensus)
   - signalStrength (0-1)

================================================================================
2ï¸âƒ£ FITUR MULTI-INDICATOR (ENSEMBLE STRATEGY)
================================================================================

í³Œ DESKRIPSI:
   Strategi trading yang menggabungkan 8 indikator dengan weighted scoring
   system. Setiap indikator diberi bobot optimal hasil optimasi.

í¾¯ METODOLOGI AKADEMIK:
   Paper: "Enhancing Trading Strategies: Multi-Indicator Analysis"
   Konsep: Ensemble learning untuk mengurangi false signals
   Kategori: Momentum (RSI, MACD, Stoch) + Trend (SMA, EMA, PSAR) + 
            Volatility (Bollinger Bands, StochRSI)

âš™ï¸ WEIGHT OPTIMIZATION:

   Algoritma: Hybrid Deterministic + Random Search
   - Deterministic Grid: 20% samples (coverage penting)
   - Random Search: 80% samples (exploration)
   - Weight Range: [0, 1, 2, 3, 4] per indikator
   - Normalisasi: Î£(weight Ã— signal) / Î£(weight)

   Scoring Formula:
   Adjusted Score = ROI Ã— (1 - MaxDD/100) Ã— (WinRate/100) Ã— ComplexityPenalty
   
   Complexity Penalty = 1 - (0.05 Ã— ActiveWeights / TotalIndicators)
   â†’ Mendorong model simpel (avoid overfitting)

í´¬ ANTI-OVERFITTING MEASURES:

   âœ… Train/Test Split (Fixed Calendar Dates):
      - Training: 2020-01-01 â†’ 2024-01-01 (4 tahun)
      - Testing:  2024-01-01 â†’ 2025-01-01 (1 tahun)
   
   âœ… Hard Filters:
      - Reject MaxDrawdown > 70%
      - Reject Trades < 20 (insufficient data)
      - L1 Regularization (complexity penalty)
   
   âœ… Out-of-Sample Validation:
      - Model dipilih berdasarkan TEST performance (bukan train!)
      - Top-20 candidates ditest, pilih yang terbaik di test set
   
   âœ… Overfitting Detection:
      - Flag: TestROI < TrainROI Ã— 0.7
      - Overfitting Score: |TrainROI - TestROI|

í³Š SIGNAL COMBINATION:

   Combined Score = Î£(Weight_i Ã— SignalScore_i) / Î£(Weight_i)
   
   Signal Score Mapping:
   - Strong Buy: +2
   - Buy: +1
   - Neutral: 0
   - Sell: -1
   - Strong Sell: -2

   Decision Threshold:
   - BUY:  Combined > +0.15
   - SELL: Combined < -0.15
   - HOLD: -0.15 â‰¤ Combined â‰¤ +0.15

í¼ API ENDPOINTS:

   POST /api/multi-indicator/:symbol/optimize
   Body: { indicators: ["SMA", "EMA", ...], samples: 800 }
   - Optimasi bobot indikator
   - Return: Best weights + train/test performance
   - Cache hasil di database

   POST /api/multi-indicator/:symbol/backtest
   - Backtest menggunakan optimized weights
   - Auto-fetch latest weights dari DB
   - Return: ROI, WinRate, Trades, MaxDrawdown

í²¾ DATABASE STORAGE:
   Table: IndicatorWeight
   Fields:
   - symbol, timeframe
   - startTrain, endTrain (epoch window)
   - weights (JSON: {SMA: 2, EMA: 3, RSI: 4, ...})
   - roi, winRate, maxDrawdown, trades
   - candleCount (untuk cache invalidation)
   - updatedAt

âš¡ PERFORMANCE OPTIMIZATION:
   - Cache optimized weights di DB
   - Reuse jika candleCount sama (instant response)
   - Batch processing (20 candidates per batch)
   - Time budget: 170 seconds max
   - Seeded RNG untuk reproducibility

================================================================================
3ï¸âƒ£ FITUR BACKTESTING (HISTORICAL SIMULATION)
================================================================================

í³Œ DESKRIPSI:
   Simulasi trading historis untuk evaluasi performa strategi sebelum
   digunakan di live trading. Support single-indicator dan multi-indicator.

í´§ BACKTEST ENGINE:

   Capital Awal: $10,000 (standar industri)
   Trading Logic:
   - BUY signal â†’ Buka posisi long
   - SELL signal â†’ Close posisi (jika ada)
   - Position Sizing: All-in (100% capital)
   - No Leverage, No Short Selling
   - No Trading Fees (simplified model)

í³Š METRICS YANG DIHITUNG:

   1. ROI (Return on Investment):
      ROI = [(Final Capital - Initial Capital) / Initial Capital] Ã— 100%
      Contoh: $12,000 â†’ ROI = 20%

   2. Win Rate:
      WinRate = (Winning Trades / Total Trades) Ã— 100%
      Contoh: 45 wins dari 100 trades = 45%

   3. Maximum Drawdown:
      MaxDD = max[(Peak - Valley) / Peak] Ã— 100%
      Ukuran risiko terbesar
      Contoh: Peak $15k â†’ Drop to $12k = 20% drawdown

   4. Total Trades:
      Jumlah complete trade cycles (entry â†’ exit)

   5. Final Capital:
      Equity akhir setelah semua trade

   6. Sharpe Ratio (Risk-Adjusted Return):
      Sharpe = (Mean Return / Std Dev) Ã— âˆš(252Ã—24)
      Nilai > 1 = bagus, > 2 = sangat bagus

   7. Sortino Ratio (Downside Risk):
      Sortino = (Mean Return / Downside Std Dev) Ã— âˆš(252Ã—24)
      Fokus hanya pada negative returns

í¾¯ SINGLE INDICATOR BACKTEST:

   Metodologi:
   - Train/Test Split: 80/20
   - Adaptive RSI thresholds (auto-detect dari data)
   - RSI data validation + interpolation
   - Overfitting detection: TestROI < TrainROI Ã— 0.5

   Enhanced Signal Logic:
   - SMA/EMA: Golden Cross detection + trend confirmation
   - MACD: Histogram momentum + crossover
   - Stochastic: Divergence detection
   - Bollinger Bands: Squeeze detection + breakout
   - PSAR: Trend reversal confirmation

   Output:
   {
     trainPerformance: { roi, winRate, trades, maxDrawdown },
     testPerformance: { roi, winRate, trades, maxDrawdown },
     overfittingDetected: boolean,
     overfitScore: number,
     sharpeRatio, sortinoRatio
   }

í¾¯ MULTI-INDICATOR BACKTEST:

   Proses:
   1. Load optimized weights dari DB
   2. Calculate combined signal untuk setiap candle
   3. Execute trades based on threshold (Â±0.15)
   4. Track equity curve
   5. Calculate performance metrics

   Keunggulan:
   - Mengurangi false signals (consensus approach)
   - Lebih stable dibanding single indicator
   - Risk-adjusted dengan max drawdown filter

í¼ API ENDPOINTS:

   POST /api/backtest/:symbol/single/:indicator
   - Backtest 1 indikator spesifik
   - Example: /api/backtest/BTC-USD/single/RSI
   - Return: Train/test split results + overfitting analysis

   POST /api/backtest/:symbol/all
   - Backtest semua 8 indikator sekaligus
   - Return: Comparison table + summary
   - Identifikasi best single indicator

   POST /api/backtest/:symbol/multi
   - Backtest multi-indicator ensemble
   - Uses optimized weights from DB
   - Return: Performance metrics + equity curve

í³ˆ ADAPTIVE FEATURES:

   âœ… Adaptive RSI Thresholds:
      - Auto-calculate dari data distribution
      - Mean Â± 0.8Ã—StdDev
      - Minimum 25-point spread (avoid clustering)
      - Fallback: 30/70 jika data insufficient

   âœ… Data Validation:
      - Check RSI completeness (>50% valid)
      - Interpolate missing values
      - Fallback random (40-60) untuk testing only
      - Warning jika data quality low

   âœ… Risk Management:
      - Auto-reject strategies dengan MaxDD > 70%
      - Minimum trade requirement (20 trades)
      - Complexity penalty untuk simple models

================================================================================
4ï¸âƒ£ FITUR COMPARISON (STRATEGY EVALUATION)
================================================================================

í³Œ DESKRIPSI:
   Membandingkan performa multi-indicator ensemble vs best single indicator
   untuk validasi hipotesis akademik: "Apakah ensemble lebih baik?"

í¾¯ TUJUAN AKADEMIK:
   Paper: Sukma & Namahoot (2025)
   Hipotesis: Multi-indicator ensemble akan outperform single-indicator
   Validasi: Statistical comparison dengan same dataset (fairness)

í³Š COMPARISON METHODOLOGY:

   1ï¸âƒ£ Data Preparation:
      - Load indicators + candles untuk period yang sama
      - Merge data (ensure fair comparison)
      - Validate data completeness

   2ï¸âƒ£ Single Indicator Analysis:
      - Backtest semua 8 indikator
      - Identifikasi best performer (highest ROI)
      - Record: ROI, WinRate, MaxDD, Trades

   3ï¸âƒ£ Multi-Indicator Analysis:
      - Load optimized weights (atau gunakan default equal weights)
      - Backtest dengan weighted ensemble
      - Record same metrics

   4ï¸âƒ£ Statistical Comparison:
      - Multi beats Single? (Boolean)
      - ROI Difference: Multi ROI - Best Single ROI
      - Win Rate Comparison
      - Max Drawdown Comparison
      - Trade Count Comparison

í³ˆ METRICS & ANALYSIS:

   Period Analysis:
   - Start Date, End Date
   - Total Days
   - Total Candles
   - Total Data Points (valid indicators)

   Best Single Summary:
   - Indicator Name (e.g., "RSI")
   - ROI (%)
   - Win Rate (%)
   - Max Drawdown (%)
   - Total Trades

   Multi-Indicator Summary:
   - Combined ROI (%)
   - Win Rate (%)
   - Max Drawdown (%)
   - Total Trades
   - Weights Used: { SMA: 2, EMA: 3, ... }

   Comparison Results:
   - Multi Beats Single: YES/NO
   - ROI Difference: +X% atau -X%
   - Win Rate Diff: +X% atau -X%
   - Strategy Recommendation: "multi" or "single"

í¼ API ENDPOINT:

   POST /api/comparison/compare
   Body: {
     symbol: "BTC-USD",
     startDate: "2024-01-01",
     endDate: "2024-12-31"
   }

   Response:
   {
     success: true,
     symbol: "BTC-USD",
     timeframe: "1h",
     period: { start, end, days },
     comparison: {
       single: { SMA: {...}, EMA: {...}, RSI: {...}, ... },
       multi: { roi, winRate, maxDrawdown, trades },
       bestStrategy: "multi" | "single"
     },
     bestWeights: { SMA: 2, EMA: 3, RSI: 4, ... },
     weightSource: "database" | "default",
     analysis: {
       periodDays: 365,
       candles: 8760,
       dataPoints: 8500,
       bestSingle: { indicator: "RSI", roi: 45.2, ... },
       multiBeatsBestSingle: true,
       roiDifference: +12.5,
       winRateComparison: { multi: 55, bestSingle: 48, diff: +7 }
     },
     timestamp: "2025-01-15T10:30:00Z"
   }

í´¬ FAIRNESS PRINCIPLES:

   âœ… Same Dataset:
      - Single & Multi menggunakan data yang SAMA PERSIS
      - Same time period, same candles
      - No look-ahead bias

   âœ… Same Initial Capital:
      - $10,000 untuk semua strategi
      - Same position sizing (all-in)

   âœ… Same Trading Rules:
      - Same buy/sell thresholds
      - No fees, no leverage (simplified)
      - Same risk management

   âœ… Objective Metrics:
      - ROI (profitability)
      - Win Rate (consistency)
      - Max Drawdown (risk)
      - Trades (sample size)

í³Š INTERPRETATION GUIDE:

   Scenario 1: Multi Wins
   - Multi ROI > Best Single ROI
   - Conclusion: Ensemble approach validated âœ…
   - Recommendation: Use multi-indicator strategy

   Scenario 2: Single Wins
   - Best Single ROI > Multi ROI
   - Possible Causes:
     * Weights not optimized for this period
     * Market favors specific indicator
     * Overfitting in multi-indicator
   - Recommendation: Use best single indicator

   Scenario 3: Close Performance
   - ROI Difference < 5%
   - Consider other metrics (drawdown, win rate)
   - Multi might still be better for risk-adjusted returns

í²¡ USE CASES:

   1. Strategy Validation:
      - Validate sebelum live trading
      - Compare different time periods
      - Identify best approach for specific coin

   2. Research & Development:
      - Academic paper validation
      - Algorithm improvement testing
      - Parameter sensitivity analysis

   3. Portfolio Optimization:
      - Choose best strategy per coin
      - Risk-adjusted portfolio allocation
      - Diversification analysis

================================================================================
5ï¸âƒ£ INTEGRASI ANTAR FITUR
================================================================================

í´„ WORKFLOW LENGKAP:

   Step 1: Data Collection
   â””â”€ Coinbase API â†’ Fetch candles â†’ Save to DB

   Step 2: Indicator Calculation
   â””â”€ Calculate 8 indicators â†’ Generate signals â†’ Save to DB

   Step 3: Weight Optimization (Multi-Indicator)
   â””â”€ Load historical data â†’ Optimize weights â†’ Cache in DB

   Step 4: Backtesting
   â”œâ”€ Single: Test each indicator individually
   â””â”€ Multi: Test with optimized weights

   Step 5: Comparison
   â””â”€ Compare single vs multi â†’ Identify best strategy

   Step 6: Live Trading (Future Implementation)
   â””â”€ Use best strategy â†’ Real-time signals â†’ Execute trades

í³Š DATA FLOW:

   Candle (Raw Price Data)
      â†“
   Indicator Service â†’ Calculate Technical Indicators
      â†“
   Signal Generation â†’ Buy/Sell/Neutral signals
      â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â†“                 â†“                 â†“
   Single Backtest   Multi Optimizer   Chart Display
      â†“                 â†“
   Performance       Optimized Weights
   Metrics              â†“
      â†“              Multi Backtest
      â†“                 â†“
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
         Comparison
              â†“
      Strategy Recommendation

í¾¯ BEST PRACTICES:

   1. Jalan Sequential (Urutan Penting):
      a. Calculate indicators dulu
      b. Baru optimize weights
      c. Baru compare strategies

   2. Cache Management:
      - Indicator cache: per symbol+timeframe+time
      - Weight cache: per symbol+timeframe+epoch_window
      - Invalidate jika candleCount berubah

   3. Error Handling:
      - Validate data completeness
      - Handle missing indicators
      - Fallback to defaults jika optimization gagal

   4. Performance:
      - Batch processing untuk optimization
      - Pagination untuk large datasets
      - Async operations untuk parallel backtests

================================================================================
6ï¸âƒ£ KELEBIHAN & LIMITASI
================================================================================

âœ… KELEBIHAN:

   1. Academic Rigor:
      - Berdasarkan published research
      - Proper train/test split
      - Anti-overfitting measures
      - Statistical validation

   2. Comprehensive Analysis:
      - 8 indikator standard industri
      - Multiple timeframes support
      - Risk-adjusted metrics

   3. Automation:
      - Auto signal generation
      - Auto weight optimization
      - Auto backtest validation

   4. Performance Optimization:
      - Incremental calculations
      - Database caching
      - Batch processing
      - Seeded RNG (reproducible)

   5. Production Ready:
      - Clean architecture
      - Error handling
      - Logging & monitoring
      - API documentation

âš ï¸ LIMITASI:

   1. Simplified Trading Model:
      - No trading fees (real world: 0.1-0.5%)
      - No slippage (market impact)
      - All-in position sizing (high risk)
      - No stop-loss/take-profit

   2. Data Requirements:
      - Need 50+ candles untuk warmup
      - Historical data dependency
      - Quality sensitive (garbage in = garbage out)

   3. Market Assumptions:
      - Assumes liquid markets
      - Ignores black swan events
      - Past performance â‰  future results

   4. Computational Cost:
      - Weight optimization CPU intensive
      - Large datasets = slow processing
      - Time budget tradeoff (accuracy vs speed)

   5. Overfitting Risk:
      - Despite measures, still possible
      - Need regular reoptimization
      - Market regime changes

================================================================================
7ï¸âƒ£ FUTURE ENHANCEMENTS (ROADMAP)
================================================================================

íº€ PLANNED FEATURES:

   [ ] Live Trading Integration
       - Telegram bot notifications
       - Auto-execute via exchange API
       - Real-time signal monitoring

   [ ] Advanced Risk Management
       - Stop-loss implementation
       - Take-profit targets
       - Position sizing (Kelly Criterion)
       - Portfolio allocation

   [ ] More Indicators
       - Ichimoku Cloud
       - Volume indicators (OBV, VWAP)
       - Fibonacci retracements
       - Order book analysis

   [ ] Machine Learning
       - LSTM for price prediction
       - Reinforcement Learning for strategy
       - Sentiment analysis (Twitter, News)

   [ ] Advanced Backtesting
       - Monte Carlo simulation
       - Walk-forward analysis
       - Stress testing
       - Trading fees modeling

   [ ] Multi-Timeframe Analysis
       - Combine 1h + 4h + 1d signals
       - Trend confirmation across timeframes

   [ ] Portfolio Management
       - Multi-coin strategies
       - Correlation analysis
       - Risk-parity allocation

   [ ] API Improvements
       - WebSocket real-time updates
       - GraphQL support
       - Rate limiting
       - Authentication & authorization

================================================================================
í³š REFERENSI
================================================================================

Paper:
Sukma, T. M., & Namahoot, C. S. (2025). 
"Enhancing Trading Strategies: A Multi-Indicator Analysis for Profitable 
Algorithmic Trading in Cryptocurrency Markets"

Technical Indicators:
- Wilder, J.W. (1978). "New Concepts in Technical Trading Systems"
- Murphy, J.J. (1999). "Technical Analysis of the Financial Markets"
- Bollinger, J. (2002). "Bollinger on Bollinger Bands"

Overfitting Prevention:
- Prado, M.L. (2018). "Advances in Financial Machine Learning"
- Bailey, D.H. et al. (2014). "Pseudo-Mathematics and Financial Charlatanism"

================================================================================
í³§ SUPPORT & KONTRIBUSI
================================================================================

Untuk pertanyaan, bug reports, atau feature requests:
- GitHub Issues: [repository link]
- Email: [email]
- Documentation: /docs folder

Kontribusi welcome! Please read CONTRIBUTING.md

================================================================================
âš–ï¸ DISCLAIMER
================================================================================

âš ï¸ PENTING - BACA SEBELUM MENGGUNAKAN:

1. Sistem ini untuk PENELITIAN dan EDUKASI saja
2. Bukan financial advice - DYOR (Do Your Own Research)
3. Cryptocurrency trading high risk - bisa kehilangan modal
4. Past performance tidak guarantee future results
5. Selalu gunakan risk management yang proper
6. Test di testnet dulu sebelum mainnet
7. Tidak ada guarantee profit - market unpredictable
8. Author tidak bertanggung jawab atas kerugian trading

USE AT YOUR OWN RISK! íº¨

================================================================================
