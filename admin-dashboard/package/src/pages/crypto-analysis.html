<!DOCTYPE html>
<html lang="en">
  <head>
    @@include("../partials/head.html")
    <title>Crypto Analysis Dashboard - Spike TailwindCSS</title>
  </head>

  <body class="bg-surface">
    <main>
      <div
        class="app-topstrip z-40 sticky top-0 py-[15px] px-6 bg-[linear-gradient(90deg,_#0f0533_0%,_#1b0a5c_100%)]"
      >
        @@include("../partials/app-topstrip.html")
      </div>
      <!--start the project-->
      <div id="main-wrapper" class="flex p-5 xl:pr-0 min-h-screen">
        <aside
          id="application-sidebar-brand"
          class="hs-overlay hs-overlay-open:translate-x-0 -translate-x-full transform hidden xl:block xl:translate-x-0 xl:end-auto xl:bottom-0 fixed xl:top-[90px] xl:left-auto top-0 left-0 with-vertical h-screen z-[999] shrink-0 w-[270px] shadow-md xl:rounded-md rounded-none bg-white left-sidebar transition-all duration-300"
        >
          @@include("../partials/sidebar.html")
        </aside>
        <div class="w-full page-wrapper xl:px-6 px-0">
          <!-- Main Content -->
          <main class="h-full max-w-full">
            <div class="container full-container p-0 flex flex-col gap-6">
              <!--  Header Start -->
              <header
                class="bg-white shadow-md rounded-md w-full text-sm py-4 px-6"
              >
                @@include("../partials/header.html")
              </header>
              <!--  Header End -->

              <!-- Page Header Bar -->
              <div class="card">
                <div class="card-body">
                  <div
                    class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"
                  >
                    <div>
                      <h1 class="text-2xl font-bold text-gray-600 mb-2">
                        Crypto Market Analysis
                      </h1>
                      <p class="text-gray-400 text-sm">
                        Real-time indicator insights from algorithmic engine
                      </p>
                    </div>
                    <div class="flex gap-3">
                      <button
                        id="refreshBtn"
                        type="button"
                        class="py-2 px-6 inline-flex items-center gap-x-2 text-base font-medium rounded-2xl border border-transparent bg-blue-600 text-white hover:bg-blue-700 transition-colors"
                      >
                        <i class="ti ti-refresh text-lg"></i>
                        Refresh Data
                      </button>
                      <div class="hs-dropdown relative inline-flex">
                        <button
                          id="symbolSelector"
                          type="button"
                          class="py-2 px-6 inline-flex items-center gap-x-2 text-base font-medium rounded-2xl border border-gray-300 text-gray-600 hover:bg-gray-50"
                        >
                          BTC-USD
                          <i class="ti ti-chevron-down text-sm"></i>
                        </button>
                        <div
                          class="hs-dropdown-menu transition-[opacity,margin] duration hs-dropdown-open:opacity-100 opacity-0 hidden min-w-[160px] bg-white shadow-md rounded-lg p-2 mt-2"
                          aria-labelledby="symbolSelector"
                        >
                          <a
                            class="symbol-option flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100"
                            href="#"
                            data-symbol="BTC-USD"
                            >BTC-USD</a
                          >
                          <a
                            class="symbol-option flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100"
                            href="#"
                            data-symbol="ETH-USD"
                            >ETH-USD</a
                          >
                          <a
                            class="symbol-option flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100"
                            href="#"
                            data-symbol="ADA-USD"
                            >ADA-USD</a
                          >
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Main Analysis Section -->
              <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Price Chart (2/3 width) -->
                <div class="col-span-2">
                  <div class="card h-full">
                    <div class="card-body">
                      <div class="flex justify-between items-center mb-6">
                        <h2
                          class="text-lg font-semibold text-gray-600"
                          id="chartTitle"
                        >
                          BTC-USD Price Chart
                        </h2>
                        <div class="flex gap-2">
                          <span
                            class="text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded-full"
                            >SMA20</span
                          >
                          <span
                            class="text-xs px-2 py-1 bg-green-100 text-green-600 rounded-full"
                            >EMA20</span
                          >
                          <span
                            class="text-xs px-2 py-1 bg-purple-100 text-purple-600 rounded-full"
                            >Bollinger</span
                          >
                        </div>
                      </div>
                      <div id="priceChart" class="h-80"></div>
                    </div>
                  </div>
                </div>

                <!-- Combined Signal Card (1/3 width) -->
                <div class="flex flex-col gap-6">
                  <div class="card">
                    <div class="card-body text-center">
                      <h3 class="text-sm uppercase text-gray-400 mb-3">
                        Combined Signal
                      </h3>
                      <div id="signalContainer" class="mb-4">
                        <h1
                          id="signalLabel"
                          class="text-4xl font-bold text-gray-400 mb-2"
                        >
                          LOADING...
                        </h1>
                        <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                          <div
                            id="confidenceBar"
                            class="bg-gray-400 h-2 rounded-full transition-all duration-300"
                            style="width: 0%"
                          ></div>
                        </div>
                        <p id="confidenceText" class="text-sm text-gray-400">
                          Confidence: 0%
                        </p>
                      </div>
                      <div class="text-xs text-gray-400">
                        <p id="lastUpdate">Last updated: --</p>
                      </div>
                    </div>
                  </div>

                  <!-- Quick Stats -->
                  <div class="card">
                    <div class="card-body">
                      <h4 class="text-sm font-semibold text-gray-500 mb-4">
                        Quick Stats
                      </h4>
                      <div class="space-y-3">
                        <div class="flex justify-between">
                          <span class="text-xs text-gray-400">RSI</span>
                          <span
                            id="quickRsi"
                            class="text-sm font-medium text-gray-600"
                            >--</span
                          >
                        </div>
                        <div class="flex justify-between">
                          <span class="text-xs text-gray-400">MACD</span>
                          <span
                            id="quickMacd"
                            class="text-sm font-medium text-gray-600"
                            >--</span
                          >
                        </div>
                        <div class="flex justify-between">
                          <span class="text-xs text-gray-400">SMA20</span>
                          <span
                            id="quickSma"
                            class="text-sm font-medium text-gray-600"
                            >--</span
                          >
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Indicator Cards Section -->
              <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6">
                <!-- RSI Card -->
                <div class="card">
                  <div class="card-body">
                    <div class="flex justify-between items-start mb-4">
                      <div>
                        <h4 class="text-lg font-semibold text-gray-600">RSI</h4>
                        <p class="text-xs text-gray-400">
                          Relative Strength Index
                        </p>
                      </div>
                      <div
                        class="w-10 h-10 flex justify-center items-center rounded-full bg-blue-100"
                      >
                        <i class="ti ti-trending-up text-blue-600"></i>
                      </div>
                    </div>
                    <h3
                      id="rsiValue"
                      class="text-2xl font-bold text-gray-600 mb-2"
                    >
                      --
                    </h3>
                    <div id="rsiChart" class="h-20"></div>
                    <div class="mt-3">
                      <span
                        id="rsiStatus"
                        class="text-xs px-2 py-1 rounded-full"
                        >--</span
                      >
                    </div>
                  </div>
                </div>

                <!-- MACD Card -->
                <div class="card">
                  <div class="card-body">
                    <div class="flex justify-between items-start mb-4">
                      <div>
                        <h4 class="text-lg font-semibold text-gray-600">
                          MACD
                        </h4>
                        <p class="text-xs text-gray-400">
                          Moving Average Convergence
                        </p>
                      </div>
                      <div
                        class="w-10 h-10 flex justify-center items-center rounded-full bg-green-100"
                      >
                        <i class="ti ti-chart-line text-green-600"></i>
                      </div>
                    </div>
                    <div class="space-y-1 mb-2">
                      <div class="flex justify-between text-sm">
                        <span class="text-gray-400">Line:</span>
                        <span id="macdLine" class="font-medium text-gray-600"
                          >--</span
                        >
                      </div>
                      <div class="flex justify-between text-sm">
                        <span class="text-gray-400">Signal:</span>
                        <span id="macdSignal" class="font-medium text-gray-600"
                          >--</span
                        >
                      </div>
                      <div class="flex justify-between text-sm">
                        <span class="text-gray-400">Hist:</span>
                        <span id="macdHist" class="font-medium text-gray-600"
                          >--</span
                        >
                      </div>
                    </div>
                    <div id="macdChart" class="h-20"></div>
                  </div>
                </div>

                <!-- Stochastic Card -->
                <div class="card">
                  <div class="card-body">
                    <div class="flex justify-between items-start mb-4">
                      <div>
                        <h4 class="text-lg font-semibold text-gray-600">
                          Stochastic
                        </h4>
                        <p class="text-xs text-gray-400">Momentum Oscillator</p>
                      </div>
                      <div
                        class="w-10 h-10 flex justify-center items-center rounded-full bg-purple-100"
                      >
                        <i class="ti ti-wave-square text-purple-600"></i>
                      </div>
                    </div>
                    <div class="space-y-1 mb-2">
                      <div class="flex justify-between text-sm">
                        <span class="text-gray-400">%K:</span>
                        <span id="stochK" class="font-medium text-gray-600"
                          >--</span
                        >
                      </div>
                      <div class="flex justify-between text-sm">
                        <span class="text-gray-400">%D:</span>
                        <span id="stochD" class="font-medium text-gray-600"
                          >--</span
                        >
                      </div>
                    </div>
                    <div id="stochChart" class="h-20"></div>
                  </div>
                </div>

                <!-- Bollinger Bands Card -->
                <div class="card">
                  <div class="card-body">
                    <div class="flex justify-between items-start mb-4">
                      <div>
                        <h4 class="text-lg font-semibold text-gray-600">
                          Bollinger
                        </h4>
                        <p class="text-xs text-gray-400">Volatility Bands</p>
                      </div>
                      <div
                        class="w-10 h-10 flex justify-center items-center rounded-full bg-yellow-100"
                      >
                        <i class="ti ti-chart-dots text-yellow-600"></i>
                      </div>
                    </div>
                    <div class="space-y-1 mb-2">
                      <div class="flex justify-between text-sm">
                        <span class="text-gray-400">Upper:</span>
                        <span id="bbUpper" class="font-medium text-gray-600"
                          >--</span
                        >
                      </div>
                      <div class="flex justify-between text-sm">
                        <span class="text-gray-400">Lower:</span>
                        <span id="bbLower" class="font-medium text-gray-600"
                          >--</span
                        >
                      </div>
                    </div>
                    <div id="bollingerChart" class="h-20"></div>
                  </div>
                </div>
              </div>

              <!-- Additional Indicators Row -->
              <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                <!-- StochRSI Card -->
                <div class="card">
                  <div class="card-body">
                    <div class="flex justify-between items-start mb-4">
                      <div>
                        <h4 class="text-lg font-semibold text-gray-600">
                          StochRSI
                        </h4>
                        <p class="text-xs text-gray-400">Stochastic RSI</p>
                      </div>
                      <div
                        class="w-10 h-10 flex justify-center items-center rounded-full bg-red-100"
                      >
                        <i class="ti ti-activity text-red-600"></i>
                      </div>
                    </div>
                    <div class="space-y-1 mb-2">
                      <div class="flex justify-between text-sm">
                        <span class="text-gray-400">%K:</span>
                        <span id="stochRsiK" class="font-medium text-gray-600"
                          >--</span
                        >
                      </div>
                      <div class="flex justify-between text-sm">
                        <span class="text-gray-400">%D:</span>
                        <span id="stochRsiD" class="font-medium text-gray-600"
                          >--</span
                        >
                      </div>
                    </div>
                    <div id="stochRsiChart" class="h-20"></div>
                  </div>
                </div>

                <!-- PSAR Card -->
                <div class="card">
                  <div class="card-body">
                    <div class="flex justify-between items-start mb-4">
                      <div>
                        <h4 class="text-lg font-semibold text-gray-600">
                          PSAR
                        </h4>
                        <p class="text-xs text-gray-400">
                          Parabolic Stop and Reverse
                        </p>
                      </div>
                      <div
                        class="w-10 h-10 flex justify-center items-center rounded-full bg-teal-100"
                      >
                        <i class="ti ti-target text-teal-600"></i>
                      </div>
                    </div>
                    <h3
                      id="psarValue"
                      class="text-2xl font-bold text-gray-600 mb-2"
                    >
                      --
                    </h3>
                    <div class="mt-3">
                      <span
                        id="psarStatus"
                        class="text-xs px-2 py-1 rounded-full"
                        >--</span
                      >
                    </div>
                  </div>
                </div>

                <!-- Moving Averages Card -->
                <div class="card">
                  <div class="card-body">
                    <div class="flex justify-between items-start mb-4">
                      <div>
                        <h4 class="text-lg font-semibold text-gray-600">
                          Moving Averages
                        </h4>
                        <p class="text-xs text-gray-400">SMA vs EMA</p>
                      </div>
                      <div
                        class="w-10 h-10 flex justify-center items-center rounded-full bg-indigo-100"
                      >
                        <i class="ti ti-chart-area text-indigo-600"></i>
                      </div>
                    </div>
                    <div class="space-y-1 mb-2">
                      <div class="flex justify-between text-sm">
                        <span class="text-gray-400">SMA20:</span>
                        <span id="smaValue" class="font-medium text-gray-600"
                          >--</span
                        >
                      </div>
                      <div class="flex justify-between text-sm">
                        <span class="text-gray-400">EMA20:</span>
                        <span id="emaValue" class="font-medium text-gray-600"
                          >--</span
                        >
                      </div>
                    </div>
                    <div id="maChart" class="h-20"></div>
                  </div>
                </div>
              </div>

              <!-- Footer Note -->
              <div class="card">
                <div class="card-body text-center">
                  <p class="text-sm text-gray-400">
                    <span id="footerTimestamp">Last updated: --</span> | Data
                    source: <span class="text-blue-600">Coinbase</span> /
                    <span class="text-purple-600">Algorithmic Engine</span>
                  </p>
                  <p class="text-xs text-gray-300 mt-1">
                    Analysis powered by technical indicators and machine
                    learning algorithms
                  </p>
                </div>
              </div>

              <footer>
                <p class="text-base text-gray-400 font-normal p-3 text-center">
                  Design and Developed by
                  <a
                    href="https://www.wrappixel.com/"
                    target="_blank"
                    class="text-blue-600 underline hover:text-blue-700"
                    >wrappixel.com</a
                  >
                </p>
              </footer>
            </div>
          </main>
          <!-- Main Content End -->
        </div>
      </div>
      <!--end of project-->
    </main>

    @@include("../partials/scripts.html")
    <script src="@@webRoot/node_modules/apexcharts/dist/apexcharts.min.js"></script>
    <script src="@@webRoot/assets/js/crypto-analysis.js"></script>
  </body>
</html>
